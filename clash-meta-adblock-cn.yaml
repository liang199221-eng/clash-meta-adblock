# =========================
# Clash Meta 安卓 · 纯广告过滤规则
# 作者：liang199
# 用途：不翻墙 / 不用节点 / 只拦广告
# =========================

mixed-port: 7890
allow-lan: false
mode: rule
log-level: warning

# ===== 必须添加以下部分来骗过系统检查 =====
proxies:
  - name: "仅拦截广告-不具备翻墙功能"
    type: select
    proxies:
      - DIRECT

proxy-groups:
  - name: "广告拦截状态"
    type: select
    proxies:
      - DIRECT

# ===== DNS =====
dns:
  enable: true
  listen: 0.0.0.0:1053
  ipv6: false
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  use-hosts: true
  default-nameserver:
    - 223.5.5.5
  nameserver:
    - https://dns.alidns.com/dns-query

# ===== 广告规则集 =====
rule-providers:
  ads_core:
    type: http
    behavior: domain
    url: https://mirror.ghproxy.com/https://raw.githubusercontent.com/privacy-protection-tools/anti-AD/master/anti-ad-clash.yaml
    path: ./ruleset/ads_core.yaml
    interval: 86400

# ===== 规则逻辑 =====
rules:
  # 拦截广告
  - RULE-SET,ads_core,REJECT
  # 其余全部直连
  - MATCH,DIRECT
